{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/dialogs/confirmdialog.component.ts","webpack:///./src/app/dialogs/setvaluedialog.component.ts","webpack:///./src/app/dialogs/showerrordialog.component.ts","webpack:///./src/app/models/node.model.ts","webpack:///./src/app/services/cache.service.ts","webpack:///./src/app/services/database.service.ts","webpack:///./src/app/services/iservice.service.ts","webpack:///./src/app/services/operations.ts","webpack:///./src/app/treeview/treeview.component.css","webpack:///./src/app/treeview/treeview.component.html","webpack:///./src/app/treeview/treeview.component.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \".tree-view {\\r\\n  display: inline-block;\\r\\n}\\r\\n\\r\\n.move-btn-container {\\r\\n  display: inline-block;\\r\\n  vertical-align: middle;\\r\\n}\\r\\n\\r\\n.loader  {\\r\\n  position: absolute;\\r\\n  top: 0px;\\r\\n  left: 0px;\\r\\n  background-color: gray;\\r\\n  opacity: 0.4;\\r\\n  height: 100vh;\\r\\n  width: 100vw;\\r\\n  z-index: 1000;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: center;\\r\\n}\\r\\n\\r\\n.reset-button {\\r\\n  cursor: pointer;\\r\\n}\"","module.exports = \"<div class=\\\"app-layout\\\">\\r\\n  <div style=\\\"text-align:center\\\">\\r\\n    <h1>\\r\\n      Welcome to {{ title }}!\\r\\n    </h1>\\r\\n  </div>\\r\\n  <div #mainContent>\\r\\n    <table rows=\\\"20\\\">\\r\\n      <tr>\\r\\n        <td colspan=\\\"9\\\">\\r\\n          <cach-tree-view #cache class=\\\"tree-view\\\"></cach-tree-view>\\r\\n        </td>\\r\\n        <td colspan=\\\"2\\\">\\r\\n          <div class=\\\"move-btn-container\\\">\\r\\n            <div matTooltip=\\\"Move selected node from right treeview to left\\\">\\r\\n              <button (click)=\\\"moveSelectedToCache()\\\"\\r\\n                      [disabled]=\\\"isMoveDisabled()\\\"\\r\\n                      [style.cursor]=\\\"isMoveDisabled() ? 'default' : 'pointer'\\\"><<<</button>\\r\\n            </div>\\r\\n          </div>\\r\\n        </td>\\r\\n        <td colspan=\\\"9\\\">\\r\\n          <db-tree-view #source class=\\\"tree-view\\\"></db-tree-view>\\r\\n        </td>\\r\\n      </tr>\\r\\n      <tr>\\r\\n        <td>\\r\\n          <div matTooltip=\\\"Add new child to the selected node in left treeview\\\">\\r\\n            <button (click)=\\\"addCreate()\\\"\\r\\n                    [disabled]=\\\"isOperDisabled()\\\"\\r\\n                    [style.cursor]=\\\"isOperDisabled() ? 'default' : 'pointer'\\\">+</button>\\r\\n          </div>\\r\\n        </td>\\r\\n        <td>\\r\\n          <div matTooltip=\\\"Delete selected node in the left treeview\\\">\\r\\n            <button (click)=\\\"addDelete()\\\"\\r\\n                    [disabled]=\\\"isOperDisabled()\\\"\\r\\n                    [style.cursor]=\\\"isOperDisabled() ? 'default' : 'pointer'\\\">-</button>\\r\\n          </div>\\r\\n        </td>\\r\\n        <td colspan=\\\"3\\\">\\r\\n          <div matTooltip=\\\"Update selected node in the left treeview\\\">\\r\\n            <button (click)=\\\"addUpdate()\\\"\\r\\n                    [disabled]=\\\"isOperDisabled()\\\"\\r\\n                    [style.cursor]=\\\"isOperDisabled() ? 'default' : 'pointer'\\\">a</button>\\r\\n          </div>\\r\\n        </td>\\r\\n        <td colspan=\\\"2\\\">\\r\\n          <div matTooltip=\\\"Apply changes to the data base\\\">\\r\\n            <button (click)=\\\"applyChanges()\\\"\\r\\n                    [disabled]=\\\"isApplyDisabled()\\\"\\r\\n                    [style.cursor]=\\\"isApplyDisabled() ? 'default' : 'pointer'\\\">Apply</button>\\r\\n          </div>\\r\\n        </td>\\r\\n        <td colspan=\\\"2\\\">\\r\\n          <div matTooltip=\\\"Reset data base to the default state\\\">\\r\\n            <button class=\\\"reset-button\\\"\\r\\n                    (click)=\\\"resetTree()\\\">Reset</button>\\r\\n          </div>\\r\\n        </td>\\r\\n      </tr>\\r\\n    </table>\\r\\n  </div>\\r\\n  <div #loader [hidden]=\\\"!(source.service.loading || cache.service.loading)\\\">\\r\\n    <div class=\\\"loader\\\">\\r\\n      <mat-spinner></mat-spinner>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\"","import { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { MatDialog, MatDialogConfig } from '@angular/material';\r\nimport { SetValueDialog } from './dialogs/setvaluedialog.component';\r\nimport { ConfirmDialog } from './dialogs/confirmdialog.component';\r\nimport { ShowErrorDialog } from './dialogs/showerrordialog.component';\r\nimport { Create, Delete, Update } from './services/operations';\r\nimport { DBTreeViewComponent, CachTreeViewComponent } from './treeview/treeview.component';\r\n\r\n@Component({\r\n  selector: 'my-app',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: [ './app.component.css' ]\r\n})\r\nexport class AppComponent implements OnInit  {\r\n  title = 'cached-db';\r\n\r\n  constructor(private dialog: MatDialog) { }\r\n\r\n  @ViewChild(CachTreeViewComponent)\r\n  private cache: CachTreeViewComponent;\r\n  @ViewChild(DBTreeViewComponent)\r\n  private source: DBTreeViewComponent;\r\n  \r\n  ngOnInit() {\r\n    this.source.service.readAll();\r\n  }\r\n  \r\n  isMoveDisabled() {\r\n    var node = this.source.getSelectedNode();\r\n    return !node || this.cache.service.contains(node.id);\r\n  }\r\n  \r\n  isOperDisabled() {\r\n    return !this.cache.getSelectedNode();\r\n  }\r\n  \r\n  isApplyDisabled() {\r\n    return !this.cache.service.applyable;\r\n  }\r\n  \r\n  moveSelectedToCache() {\r\n    this.cache.service.addNode(this.source.getSelectedNode().id);\r\n    this.source.deselect();\r\n  }\r\n  \r\n  addCreate() {\r\n    this.openSetValueDialog(\"Add New Child of Node\", \"\").then((value) => {\r\n      if (value && value.trim()) {\r\n        var c = new Create(this.cache.getSelectedNode().id, value);\r\n        this.cache.service.addOperation(c);\r\n        this.cache.deselect();\r\n      }\r\n    });\r\n  }\r\n  \r\n  addDelete() {\r\n    var selectedNode = this.cache.getSelectedNode();\r\n    var q = \"Are you sure you want to delete the node '\" +\r\n      selectedNode.value + \"' and all its descendants?\"\r\n    this.openConfirmDialog(\"Delete Node\", q).then((result) => {\r\n      if (result) {\r\n        var d = new Delete(selectedNode.id);\r\n        this.cache.service.addOperation(d);\r\n        this.cache.deselect();\r\n      }\r\n    });\r\n  }\r\n  \r\n  addUpdate() {\r\n    var selectedNode = this.cache.getSelectedNode();\r\n    var oldValue = selectedNode.value;\r\n    this.openSetValueDialog(\"Edit Node\", selectedNode.value).then((value) => {\r\n      if (value && oldValue != value) {\r\n        var u = new Update(selectedNode.id, value);\r\n        this.cache.service.addOperation(u);\r\n        this.cache.deselect();\r\n      }\r\n    });\r\n  }\r\n  \r\n  applyChanges() {\r\n    this.cache.service.applyChanges().subscribe((resp) => {\r\n      this.source.service.readAll();\r\n    }, (err) => {\r\n      this.openShowErrorDialog(\"Invalid changes\", err.error).then(() => {\r\n        this.cache.service.clear();\r\n        this.cache.service.clearChanges();\r\n      });\r\n    });\r\n  }\r\n  \r\n  resetTree() {\r\n    this.source.service.resetNodes().toPromise().then(() => {\r\n      this.cache.service.clear();\r\n      this.source.service.readAll();\r\n    });\r\n  }\r\n  \r\n  private openSetValueDialog(title: string, value: string) {\r\n    const dialogConfig = new MatDialogConfig();\r\n    \r\n    dialogConfig.disableClose = false;\r\n    dialogConfig.autoFocus = true;\r\n    dialogConfig.hasBackdrop = true;\r\n    \r\n    dialogConfig.data = {\r\n      value: value,\r\n      title: title\r\n    };\r\n\r\n    const dialogRef = this.dialog.open(SetValueDialog, dialogConfig);\r\n    \r\n    return dialogRef.afterClosed().toPromise();\r\n  }\r\n  \r\n  private openConfirmDialog(title: string, question: string) {\r\n    const dialogConfig = new MatDialogConfig();\r\n    \r\n    dialogConfig.disableClose = false;\r\n    dialogConfig.autoFocus = true;\r\n    dialogConfig.hasBackdrop = true;\r\n    \r\n    dialogConfig.data = {\r\n      title: title,\r\n      question: question\r\n    };\r\n    \r\n    const dialogRef = this.dialog.open(ConfirmDialog, dialogConfig);\r\n    \r\n    return dialogRef.afterClosed().toPromise();\r\n  }\r\n  \r\n  private openShowErrorDialog(title: string, message: string) {\r\n    const dialogConfig = new MatDialogConfig();\r\n    \r\n    dialogConfig.disableClose = false;\r\n    dialogConfig.autoFocus = true;\r\n    dialogConfig.hasBackdrop = true;\r\n    \r\n    dialogConfig.data = {\r\n      title: title,\r\n      message: message\r\n    }\r\n    \r\n    const dialogRef = this.dialog.open(ShowErrorDialog, dialogConfig);\r\n    \r\n    return dialogRef.afterClosed().toPromise();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { MatTreeModule } from '@angular/material/tree';\r\nimport { MatGridListModule } from '@angular/material/grid-list';\r\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { MatDialogModule } from '@angular/material';\r\nimport { HttpModule } from '@angular/http';\r\nimport { HttpClient, HttpClientModule } from '@angular/common/http';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { SetValueDialog } from './dialogs/setvaluedialog.component';\r\nimport { ConfirmDialog } from './dialogs/confirmdialog.component';\r\nimport { ShowErrorDialog } from './dialogs/showerrordialog.component';\r\nimport { DBTreeViewComponent, CachTreeViewComponent } from './treeview/treeview.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    BrowserModule,\r\n    BrowserAnimationsModule,\r\n    FormsModule,\r\n    MatTreeModule,\r\n    MatGridListModule,\r\n    MatProgressSpinnerModule,\r\n    MatTooltipModule,\r\n    MatDialogModule,\r\n    HttpModule,\r\n    HttpClientModule,\r\n  ],\r\n  declarations: [\r\n    AppComponent,\r\n    SetValueDialog,\r\n    ConfirmDialog,\r\n    ShowErrorDialog,\r\n    DBTreeViewComponent,\r\n    CachTreeViewComponent,\r\n  ],\r\n  bootstrap: [\r\n    AppComponent,\r\n  ],\r\n  entryComponents: [\r\n    SetValueDialog,\r\n    ConfirmDialog,\r\n    ShowErrorDialog,\r\n  ]\r\n})\r\nexport class AppModule { }\r\n","import { Component, Inject } from '@angular/core';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from \"@angular/material\";\r\n\r\n@Component({\r\n  template: `<h2 mat-dialog-title>{{title}}</h2>\r\n             <div class=\"mat-expansion-panel-content\">{{question}}</div>\r\n             <mat-dialog-actions>\r\n               <button class=\"mat-raised-button\" (click)=\"cancel()\">Cancel</button>\r\n               <button class=\"mat-raised-button mat-primary\" (click)=\"confirm()\">Confirm</button>\r\n             </mat-dialog-actions>`\r\n})\r\nexport class ConfirmDialog {\r\n  title: string = '';\r\n  question: string = '';\r\n  \r\n  constructor(private dialogRef: MatDialogRef<ConfirmDialog>,\r\n              @Inject(MAT_DIALOG_DATA) data) {\r\n    this.title = data.title;\r\n    this.question = data.question;\r\n  }\r\n  \r\n  confirm() {\r\n    this.dialogRef.close(true);\r\n  }\r\n  \r\n  cancel() {\r\n    this.dialogRef.close(false);\r\n  }\r\n}\r\n","import { Component, Inject } from '@angular/core';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from \"@angular/material\";\r\n\r\n@Component({\r\n  template: `<h2 mat-dialog-title>{{title}}</h2>\r\n             <input matInput type=\"text\"\r\n                             [(ngModel)]=\"value\"\r\n                             placeholder=\"Enter value...\" />\r\n             <mat-dialog-actions>\r\n               <button class=\"mat-raised-button\" (click)=\"cancel()\">Cancel</button>\r\n               <button class=\"mat-raised-button mat-primary\" (click)=\"save()\">Save</button>\r\n             </mat-dialog-actions>`\r\n})\r\nexport class SetValueDialog {\r\n  value: string = '';\r\n  title: string = '';\r\n  \r\n  constructor(private dialogRef: MatDialogRef<SetValueDialog>,\r\n              @Inject(MAT_DIALOG_DATA) data) {\r\n    this.value = data.value;\r\n    this.title = data.title;\r\n  }\r\n  \r\n  save() {\r\n    this.dialogRef.close(this.value);\r\n  }\r\n\r\n  cancel() {\r\n    this.dialogRef.close();\r\n  }\r\n}\r\n","import { Component, Inject } from '@angular/core';\r\nimport { MAT_DIALOG_DATA, MatDialogRef } from \"@angular/material\";\r\n\r\n@Component({\r\n  template: `<h2 mat-dialog-title>{{title}}</h2>\r\n             <div class=\"mat-expansion-panel-content\">{{message}}</div>\r\n             <mat-dialog-actions>\r\n               <button class=\"mat-raised-button\" (click)=\"ok()\">OK</button>\r\n             </mat-dialog-actions>`\r\n})\r\nexport class ShowErrorDialog {\r\n  title: string = '';\r\n  message: string = '';\r\n  \r\n  constructor(private dialogRef: MatDialogRef<ShowErrorDialog>,\r\n              @Inject(MAT_DIALOG_DATA) data) {\r\n    this.title = data.title;\r\n    this.message = data.message;\r\n  }\r\n  \r\n  ok() {\r\n    this.dialogRef.close(false);\r\n  }\r\n}","export class Node {\r\n  id: any;\r\n  children: Node[];\r\n  deleted: false;\r\n  value: string;\r\n  selected: false;\r\n}","import { IService } from './iservice.service';\r\nimport { Operation } from './operations';\r\nimport { HttpClient } from  '@angular/common/http';\r\nimport { Injectable} from '@angular/core';\r\nimport { Subject, of } from 'rxjs';\r\nimport { merge } from 'rxjs/observable/merge';\r\nimport { switchMap } from 'rxjs/operators';\r\nimport { map } from 'rxjs/operators/map';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { Node } from '../models/node.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class Cache extends IService {\r\n  constructor(protected httpClient: HttpClient) {\r\n    super(httpClient);\r\n    \r\n    merge(this._addIdSubject.pipe(\r\n      switchMap((id) => {\r\n        this.loading = true;\r\n        return this.httpClient.get(`${this.API_URL}/nodes/`, {\r\n          params: {\r\n            id: id.toString()\r\n          }\r\n        });\r\n      }),\r\n      map((nodes) => {\r\n        this._rawNodes = this._rawNodes.concat(nodes);\r\n      })\r\n    ), this._changesSubject).subscribe(() => {\r\n      this.loading = false;\r\n      var preApplied = this.preApplyChanges();\r\n      return this.dataChange.next(this.buildData(preApplied));\r\n    }, (error) => {\r\n      this.loading = false;\r\n    });\r\n  }\r\n  \r\n  private _addIdSubject = new Subject();\r\n  \r\n  private _rawNodes: Array<any> = [];\r\n  \r\n  private _changes: Array<Operation> = [];\r\n  private _changesSubject = new Subject();\r\n  \r\n  private preApplyChanges(): Array<any> {\r\n    return this._changes.reduce((accum, operation) => {\r\n      return operation.call(accum);\r\n    }, this._rawNodes.slice());\r\n  }\r\n  \r\n  public clearChanges() {\r\n    this._changes = [];\r\n    this._changesSubject.next();\r\n  }\r\n  \r\n  public clear() {\r\n    this._rawNodes = [];\r\n  }\r\n  \r\n  public contains(id: any): Boolean {\r\n    return this._rawNodes.some((rawNode) => {\r\n      return rawNode.id == id;\r\n    });\r\n  }\r\n\r\n  public addNode(id: any) {\r\n    return this._addIdSubject.next(id);\r\n  }\r\n  \r\n  public addOperation(op: Operation) {\r\n    this._changes.push(op);\r\n    this._changesSubject.next(this._changes);\r\n  }\r\n  \r\n  public get applyable() {\r\n    return this._changes.length;\r\n  }\r\n  \r\n  public applyChanges() {\r\n    this.loading = true;\r\n    return this.httpClient.post<any>(`${this.API_URL}/apply`, {\r\n        params: {\r\n          changes: this._changes\r\n        }\r\n      }\r\n    ).pipe(map((resp) => {\r\n      this.loading = false;\r\n      this.clear();\r\n      this.clearChanges();\r\n      return resp;\r\n    }), catchError((err, _) => {\r\n      this.loading = false;\r\n      throw err;\r\n    }));\r\n  }\r\n}\r\n","import { IService } from './iservice.service';\r\nimport { HttpClient} from  '@angular/common/http';\r\nimport { Injectable} from '@angular/core';\r\nimport { Node } from '../models/node.model';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class Database extends IService {\r\n  constructor(protected httpClient: HttpClient) {\r\n    super(httpClient);\r\n  }\r\n\r\n  readAll() {\r\n    this.loading = true;\r\n    return this.httpClient.get(`${this.API_URL}/nodes/`).toPromise().then((data: Array<any>) => {\r\n      this.loading = false;\r\n      return this.dataChange.next(this.buildData(data));\r\n    }, (error) => {\r\n      this.loading = false;\r\n    });\r\n  }\r\n}\r\n","import { Injectable} from '@angular/core';\r\nimport { HttpClient} from  '@angular/common/http';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { Node } from '../models/node.model';\r\nimport 'rxjs/add/operator/map';\r\n\r\n@Injectable()\r\nexport abstract class IService {\r\n  protected API_URL  =  'http://localhost:8000';\r\n\r\n  public get data(): Node[] { return this.dataChange.value; }\r\n\r\n  public dataChange = new BehaviorSubject<Node[]>([]);\r\n\r\n  public constructor(protected httpClient: HttpClient) { }\r\n  \r\n  public loading: boolean = false;\r\n\r\n  protected buildData(data: Array<any>) {\r\n    var items = {};\r\n    var toRemove = [];\r\n    data.forEach((item) => {\r\n      items[item.id] = item;\r\n    });\r\n    for (var k in items) {\r\n      var parentId = items[k][\"parent_id\"];\r\n      if (parentId in items) {\r\n        if (\"children\" in items[parentId])\r\n          items[parentId][\"children\"][k] = items[k];\r\n        else\r\n          items[parentId][\"children\"] = {k: items[k]};\r\n        toRemove.push(k)\r\n      }\r\n      if (!(\"children\" in items[k]))\r\n          items[k][\"children\"] = {};\r\n    }\r\n    toRemove.forEach((id) => {\r\n      delete items[id];\r\n    })\r\n    return this.buildTree(items);\r\n  }\r\n\r\n  protected buildTree(obj: Object): Node[] {\r\n    var nodes = [];\r\n    for (var k in obj) {\r\n      var item = obj[k];\r\n      var node = new Node();\r\n      node.id = item.id;\r\n      node.deleted = item.is_deleted;\r\n      node.value = item.value;\r\n      node.children = this.buildTree(item[\"children\"]);\r\n      nodes.push(node);\r\n    }\r\n    return nodes;\r\n  }\r\n  \r\n  public resetNodes(): Observable<any> {\r\n    this.loading = true;\r\n    return this.httpClient.get(`${this.API_URL}/reset/`, {\r\n      responseType: 'text'\r\n    }).map((resp) => {\r\n      this.loading = false;\r\n      return resp;\r\n    });\r\n  }\r\n}\r\n","import { Guid } from \"guid-typescript\";\r\n\r\nenum OperationEnum {\r\n  Create,\r\n  Delete,\r\n  Update\r\n}\r\n\r\nexport abstract class Operation {\r\n  protected name: string;\r\n  \r\n  constructor() {\r\n    this.name = this.constructor.name;\r\n  }\r\n  \r\n  public abstract call(nodes: Array<any>): Array<any>;\r\n  \r\n  protected traverse(item, callback: (i) => void) {\r\n    callback(item)\r\n    for (let k in item.children)\r\n      this.traverse(item.children[k], callback);\r\n  }\r\n}\r\n\r\nexport class Create extends Operation {\r\n  /** id: Guid\r\n   *    -- the temporary identifier\r\n   *    -- for building tree and to\r\n   *    -- keep the relations between\r\n   *    -- existing and new nodes\r\n   */\r\n  private id: any = null;\r\n  /** parentId: Primary key\r\n   *    -- the parent of new node\r\n   */\r\n  private parentId: any;\r\n  /** value: string\r\n   *    -- the value of new node\r\n   */\r\n  private value: string;\r\n  \r\n  constructor(parentId: any, value: string) {\r\n    super();\r\n    \r\n    this.parentId = parentId;\r\n    this.value = value;\r\n  }\r\n  \r\n  public call(nodes: Array<any>): Array<any> {\r\n    if (!this.id)\r\n      this.id = Guid.raw();\r\n    var newRawNode = {\r\n      id: this.id,\r\n      is_deleted: false,\r\n      parent_id: this.parentId,\r\n      children: {},\r\n      value: this.value\r\n    };\r\n    nodes.forEach((item) => {\r\n      this.traverse(item,\r\n        (a) => {\r\n          if (a.id == this.parentId)\r\n            a.children[this.id] = newRawNode;\r\n        }\r\n      );\r\n    });\r\n    return nodes;\r\n  }\r\n}\r\n\r\nexport class Delete extends Operation {\r\n  /** id: Primary key\r\n   *    -- id of record to delete\r\n   */\r\n  private id: any;\r\n  \r\n  constructor(id: any) {\r\n    super();\r\n    \r\n    this.id = id;\r\n  }\r\n  \r\n  public call(nodes: Array<any>): Array<any> {\r\n    nodes.forEach((item) => { \r\n      this.traverse(item, (a) => {\r\n        if (a.id == this.id) {\r\n          this.traverse(a, (b) => {\r\n            b.is_deleted = true;\r\n          });\r\n        }\r\n      });\r\n    });\r\n    return nodes;\r\n  }\r\n}\r\n\r\nexport class Update extends Operation {\r\n  /** id: Primary key\r\n   *    -- id of record to update\r\n   */\r\n  private id: any;\r\n  \r\n  /** value: string\r\n   *    -- new value of the node\r\n   */\r\n  private value: string;\r\n  \r\n  constructor(id: any, value: string) {\r\n    super();\r\n    \r\n    this.id = id;\r\n    this.value = value;\r\n  }\r\n  \r\n  public call(nodes: Array<any>): Array<any> {\r\n    nodes.forEach((item) => {\r\n      this.traverse(item,\r\n        (a) => {\r\n          if (a.id == this.id)\r\n            a.value = this.value;\r\n        }\r\n      );\r\n    });\r\n    return nodes;\r\n  }\r\n}\r\n\r\n","module.exports = \".db-tree-view {\\r\\n  border: 1pt solid black;\\r\\n  overflow-y: scroll;\\r\\n  max-height: 80vh;\\r\\n  min-height: 80vh;\\r\\n  min-width: 32vw;\\r\\n}\\r\\n\\r\\n.db-tree-view ul,\\r\\n.db-tree-view li {\\r\\n  margin-top: 0;\\r\\n  margin-bottom: 0;\\r\\n  list-style-type: none;\\r\\n}\"","module.exports = \"<mat-tree class=\\\"db-tree-view\\\"\\r\\n          [dataSource]=\\\"nestedDataSource\\\"\\r\\n          [treeControl]=\\\"nestedTreeControl\\\">\\r\\n  <mat-nested-tree-node *matTreeNodeDef=\\\"let node; when: hasNestedChild\\\">\\r\\n    <li>\\r\\n      <div class=\\\"mat-tree-node\\\"\\r\\n           [style.backgroundColor]=\\\"node.deleted ? '#f44336' : (node.selected ? '#dddddd' : 'inherit')\\\"\\r\\n           [style.textDecoration]=\\\"node.deleted ? 'line-through' : 'none'\\\"\\r\\n           [style.cursor]=\\\"node.deleted ? 'not-allowed' : 'pointer'\\\"\\r\\n           (click)=\\\"rowClick(node)\\\">\\r\\n        {{node.value}}\\r\\n      </div>\\r\\n      <ul>\\r\\n        <ng-container matTreeNodeOutlet></ng-container>\\r\\n      </ul>\\r\\n    </li>\\r\\n  </mat-nested-tree-node>\\r\\n</mat-tree>\"","import { Component, ChangeDetectionStrategy } from '@angular/core';\r\nimport { NestedTreeControl } from '@angular/cdk/tree';\r\nimport { MatTreeNestedDataSource } from '@angular/material/tree';\r\nimport { IService } from '../services/iservice.service';\r\nimport { Database } from '../services/database.service';\r\nimport { Cache } from '../services/cache.service';\r\nimport { Node } from '../models/node.model';\r\n\r\nclass TreeViewComponent {\r\n  nestedTreeControl: NestedTreeControl<Node>;\r\n  nestedDataSource: MatTreeNestedDataSource<Node>;\r\n\r\n  constructor(public service: IService) {\r\n    this.nestedTreeControl = new NestedTreeControl<Node>(this._getChildren);\r\n    this.nestedDataSource = new MatTreeNestedDataSource();\r\n\r\n    this.service.dataChange.subscribe(data => {\r\n      this.nestedDataSource.data = data;\r\n    });\r\n  }\r\n\r\n  hasNestedChild = (_: number, nodeData: Node) => !!nodeData.children.length;\r\n\r\n  private _getChildren = (node: Node) => node.children;\r\n  \r\n  private _prevClickedNode: Node = null;\r\n  private _selectedNode: Node = null;\r\n  \r\n  rowClick(node) {\r\n    if (!node.deleted) {\r\n      if (this._prevClickedNode && this._prevClickedNode != node)\r\n        this._prevClickedNode.selected = false;\r\n      this._prevClickedNode = node;\r\n      node.selected = !node.selected;\r\n      if (node.selected)\r\n        this._selectedNode = node;\r\n      else\r\n        this._selectedNode = null;\r\n    }\r\n  }\r\n  \r\n  getSelectedNode(): Node {\r\n    return this._selectedNode;\r\n  }\r\n  \r\n  deselect() {\r\n    this.rowClick(this._selectedNode);\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'db-tree-view',\r\n  templateUrl: 'treeview.component.html',\r\n  styleUrls: ['treeview.component.css'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class DBTreeViewComponent extends TreeViewComponent {\r\n  constructor(public service: Database) {\r\n    super(service);\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'cach-tree-view',\r\n  templateUrl: 'treeview.component.html',\r\n  styleUrls: ['treeview.component.css'],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class CachTreeViewComponent extends TreeViewComponent {\r\n  constructor(public service: Cache) {\r\n    super(service);\r\n  }\r\n}\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\r\n/*\r\n * In development mode, for easier debugging, you can ignore zone related error\r\n * stack frames such as `zone.run`/`zoneDelegate.invokeTask` by importing the\r\n * below file. Don't forget to comment it out in production mode\r\n * because it will have a performance impact when errors are thrown\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.log(err));\r\n"],"sourceRoot":""}